// obj.js | Unobtrusive object subscribe
// https://github.com/Daniel-Hug/object-subscribe

(function(f,d){"function"===typeof define&&define.amd?define([],d):"object"===typeof exports?module.exports=d():f.returnExports=d()})(this,function(){function f(c){for(var a=0,b=d.length;a<b;a++)if(d[a][0]===c)return a;return-1}var d=[];return{has:function(c,a){return{}.hasOwnProperty.call(c,a)},keys:Object.keys||function(c){var a=[],b;for(b in c)Obj.has(c,b)&&a.push(b);return a},subscribe:function(c,a,b){var e=f(c);0<=e?d[e][1].push(a):d.push([c,[a]]);b&&a(c)},unsubscribe:function(c,a){var b=f(c),e;if(0<=b)if(a){if((b=d[b][1])&&b.length)for(e=a.length;e--;)b.splice(b.indexOf(a[e]),1)}else d.splice(b,1)},set:function(c,a){for(var b in a)Obj.has(a,b)&&(c[b]=a[b]);Obj.changed(c)},unset:function(c,a){for(var b=a.length;b--;)delete c[a[b]];Obj.changed(c)},reset:function(c,a){for(var b in c)Obj.has(c,b)&&delete c[b];Obj.set(c,a)},changed:function(c){var a=f(c);if(0<=a)for(var b=d[a][1],e=b.length,a=0;a<e;a++)b[a](c)}}});
